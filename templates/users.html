{% extends 'home.html' %}

{% block content %}
  <div id="content_container"></div>
{% endblock %}

{% block scripts %}
  {{ super() }}

  <script type="text/javascript">
    var users = {{ users|tojson }};
    var roles = {{ roles|tojson }};
    var jurisdictions = {{ jurisdictions|tojson }};
    var precincts = {{ precincts|tojson }};
    var selectedUser = null;
    var selectedRole = null;
  </script>

  <script src="{{ url_for('static', filename='js/ajax_dao.js') }}"></script>
  <script src="{{ url_for('static', filename='js/jurisdiction_panel.js') }}"></script>
  <script src="{{ url_for('static', filename='js/precinct_panel.js') }}"></script>
  <script src="{{ url_for('static', filename='js/user_panel.js') }}"></script>

  <script type="text/javascript" charset="utf-8">

    webix.ready(function() {

      webix.ui({
        container: "content_container",
        type: "space",
        cols: [
            userPanel, jurisdictionPanel, precinctPanel
        ]
      });

      precinctPanelCtlr.init();
      precinctListCtlr.setMultiSelect();
      jurisdictionPanelCtlr.init(precinctListCtlr.load);
      userPanelCtlr.init();
    });

  </script>
{% endblock %}
