{% extends 'layout.html' %}

{% block content %}
  <div id="content_container"></div>
{% endblock %}

{% block scripts %}
  {{ super() }}

  <script>
    var contacts = {{ contacts|tojson }};
    var precincts = db.addCollection("precincts");
    precincts.insert({{ precincts|tojson }});
    var groups = {{ groups|tojson }};
    var memberships = db.addCollection("memberships");
    memberships.insert({{ members|tojson }});
  </script>

{#  <script src="{{ url_for('static', filename='js/ajax_dao.js') }}"></script>#}
  <script src="{{ url_for('static', filename='js/helpers.js') }}"></script>
  <script src="{{ url_for('static', filename='js/contacts/grid_panel.js') }}"></script>
  <script src="{{ url_for('static', filename='js/contacts/form_panel.js') }}"></script>

  <script type="text/javascript" charset="utf-8">

    webix.ready(function() {

      webix.ui({
        container: "content_container",
        type: "space",
        cols: [conGridPanel, conFormPanel]
      });

      conGridPanelCtlr.init();
      conFormPanelCtlr.init();
    });

  </script>
{% endblock %}
